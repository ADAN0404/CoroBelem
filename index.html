<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes">
<title>Coro Belém</title>
<link rel="icon" href="Logo.png">

<style>
body{
    font-family:'Times New Roman',serif;
    background:url('fondo.jfif') no-repeat center center fixed;
    background-size:cover;
    color:white;
    text-align:center;
    margin:0;
}

..menu{
    background:rgba(0,0,0,.6);
    padding:10px;
    position:fixed;
    width:100%;
    top:0;
    z-index:1000;
}

.menu img{ height:200px }

.container{
    max-width:600px;
    margin:20px auto;
    padding:30px;
    background:rgba(0,0,0,.6);
    border-radius:10px;
    text-align: center;
}

select,.canto-item,button{
    width:100%;
    padding:10px;
    margin:10px 0;
    background:#444;
    color:white;
    border:none;
    border-radius:5px;
    cursor:pointer;
}

.canto-item:hover,button:hover{ background:#666 }

.selected-cantos div{
    background:#333;
    padding:20px;
    margin-top:5px;
    border-radius:5px;
}

.remove-btn{ cursor:pointer;margin-left:10px }

.overlay{
    position:fixed;
    top:0;
    left:0;
    width:100%;
    height:100%;
    background:white; /* ← FONDO BLANCO SOLO EN EL ESQUEMA */
    display:none;
    align-items:center;
    justify-content:center;
    z-index:2000;
    overflow:hidden;
}

.overlay img{
    max-width:100%;
    max-height:100%;
    transform-origin:center center;
    transition:transform .2s ease;
}

.close-btn{
    position:absolute;
    top:20px;
    right:20px;
    font-size:28px;
    cursor:pointer;
    z-index:3000;
    color:red;       /* ← X ROJA */
    font-weight:bold;
}

</style>
</head>

<body>

<div class="menu">
    <img src="Logo.png" alt="Coro Belém">
    <h1>Selecciona esquema</h1>
</div>

<div class="container">
    <select id="esquemaSelect" onchange="cargarCategorias()">
        <option value="" disabled selected>Tiempo litúrgico</option>
        <option value="Ordinario">Tiempo Ordinario</option>
        <option value="Cuaresma">Cuaresma</option>
        <option value="Pascua">Pascua</option>
    </select>
</div>

<div class="container" id="listaCategorias">
    <h2>Categorías</h2>
</div>

<div class="container" id="listaCantos" style="display:none">
    <h2>Cantos disponibles</h2>
</div>

<div class="container selected-cantos" id="esquemaCantos">
    <h2>Esquema de cantos</h2>
    <p>No has seleccionado ningún canto.</p>
</div>

<div class="container">
    <button onclick="generarCancionero()">Generar cancionero</button>
</div>

<!-- VISOR -->
<div class="overlay" id="overlay">
    <div class="close-btn" onclick="cerrarCancionero()">✖</div>
    <img id="imagenActual">
</div>

<script>
const cantosEsquemas={
            "Ordinario": {
                "Entrada": [
                { titulo: "Portones - Xavier Gonzalez", imgs: ["Entrada/Portones - Xavier.jpg"] },
                { titulo: "Reunidos - Francisco Palazón", imgs: ["Entrada/Reunidos_1.jpg", "Entrada/Reunidos_2.jpg", "Entrada/Reunidos_3.jpg"] },
                { titulo: "Un solo señor - Lucien Deiss", imgs: ["Entrada/Un solo_1.jpg","Entrada/Un solo_2.jpg"] },
                { titulo: "Juntos como hermanos - Cesáreo Gabaráin", imgs: ["Entrada/juntos.jpg"] },
                { titulo: "Pueblo de reyes - Lucien Deiss", imgs: ["Entrada/Pueblo2.jpg","Entrada/Pueblo1.jpg"] },
                { titulo: "Venimos hoy a tu altar - Bravo", imgs: ["Entrada/venimoshoy.jpg"] },
                { titulo: "Hacia ti, morada santa - Kiko Argüello", imgs: ["Entrada/moradasanta.jpg"] },
                { titulo: "Dios nos convoca", imgs: ["Entrada/dios.jpg"] }
            ],
            "Ten Piedad": [
                { titulo: "Señor ten piedad Xavier Gonzalez", imgs: ["Ten piedad/Señor ten piedad - Xavier 1.jpg", "Ten piedad/Señor ten piedad - Xavier 2.jpg"] },
                { titulo: "Señor ten piedad Palazón", imgs: ["Ten piedad/Señor ten piedad - Palazon.jpg"] },
                { titulo: "Señor ten piedad Pbro. Lic. Ricardo Ignacio", imgs: ["Ten piedad/Señor ten piedad - Alaniz 1.jpg", "Ten piedad/Señor ten piedad - Alaniz 2.jpg"] },
                { titulo: "Señor ten piedad Benigna Carrillo - Buen Pastor", imgs: ["Ten piedad/Señor ten piedad - Buen pastor.jpg"] },
                { titulo: "Señor ten piedad Garcia Virgen", imgs: ["Ten piedad/Señor ten piedad - Garcia.jpg"] },
                { titulo: "Señor ten piedad 58", imgs: ["Ten piedad/Señor ten piedad - 58.jpg"] }
            ],
            "Gloria": [
                { titulo: "Gloria Benjamín Rangel - Misa Guadalupana", imgs: ["Gloria/Gloria Benja1.jpg","Gloria/Gloria Benja2.jpg","Gloria/Gloria Benja3.jpg","Gloria/Gloria Benja4.jpg"] },
                { titulo: "Gloria Pbro. Lic. Ricardo Ignacio", imgs: ["Gloria/GloriaRicardo1.jpg", "Gloria/GloriaRicardo2.jpg", "Gloria/GloriaRicardo3.jpg", "Gloria/GloriaRicardo4.jpg", "Gloria/GloriaRicardo5.jpg"
                                                                     , "Gloria/GloriaRicardo6.jpg", "Gloria/GloriaRicardo7.jpg"] },
                { titulo: "Gloria Benigna Carrillo - Buen Pastor", imgs: ["Gloria/GloriaBenigna1.jpg", "Gloria/GloriaBenigna2.jpg"] },
                { titulo: "Gloria A. Mejía - Melodica", imgs: ["Gloria/GloriaMejiaMelodica1.jpg", "Gloria/GloriaMejiaMelodica2.jpg","Gloria/GloriaMejiaMelodica3.jpg","Gloria/GloriaMejiaMelodica4.jpg",
                                                              "Gloria/GloriaMejiaMelodica5.jpg",] },
                { titulo: "Gloria A. Mejía - Rítmica", imgs: ["Gloria/GloriaMejiaRitmica1.jpg", "Gloria/GloriaMejiaRitmica2.jpg"] },
                { titulo: "Gloria Palazón", imgs: ["Gloria/GloriaPalazon1.jpg", "Gloria/GloriaPalazon2.jpg"] },
                { titulo: "Gloria al señor - Popular", imgs: ["Gloria/Gloria al señor.jpg"] },
                { titulo: "Gloria Xavier Gonzalez - Señora y niña mía", imgs: ["Gloria/Gloria xavier1.jpg", "Gloria/Gloria xavier2.jpg", "Gloria/Gloria xavier3.jpg",
                                                                "Gloria/Gloria xavier4.jpg", "Gloria/Gloria xavier5.jpg","Gloria/Gloria xavier6.jpg"]}
            ],
            "Aleluya": [
                { titulo: "Festival Alleluia - James Chepponis", imgs: ["Aleluya/Festival1.jpg","Aleluya/Festival2.jpg","Aleluya/Festival3.jpg","Aleluya/festival4.jpg"] },
                { titulo: "Aleluya Taizé 4", imgs: ["Aleluya/Aleluya Taizé.jpeg"] },
                { titulo: "Aleluya Taizé 7", imgs: ["Aleluya/Aleluya Taize 7.jpg"] },
                { titulo: "Aleluya A. Mejía - Melodica", imgs: ["Aleluya/AleluyaMejiaM1.jpeg","Aleluya/AleluyaMejiaM2.jpeg"] },
                { titulo: "Aleluya A. Mejía - Rítmica", imgs: ["Aleluya/Aleluya 50.jpeg"] },
                { titulo: "Aleluya A. Mejía - Coral", imgs: ["Aleluya/M Coral 1.jpeg", "Aleluya/M Coral 2.jpeg"] },
                { titulo: "Aleluya Benigna Carrillo - Buen Pastor", imgs: ["Aleluya/AleluyaBenigna.jpeg"] },
                { titulo: "Aleluya Mary Frances", imgs: ["Aleluya/Mary Frances.jpeg"] },
                { titulo: "Aleluya Jesús B., msp", imgs: ["Aleluya/AleluyaPaz.jpg"] },
                { titulo: "Aleluya José Netza Pineda - Modal", imgs: ["Aleluya/AleluyaModal.jpg"] },
                { titulo: "Aleluya  Ordinario", imgs: ["Aleluya/Ordinario.jpeg"] },
                { titulo: "Canta Aleluya", imgs: ["Aleluya/Canta Aleluya.jpeg"] },
                { titulo: "Aleluya Varios - 161, 163, 189", imgs: ["Aleluya/A 161, 163, 189.jpeg"] },
                { titulo: "Aleluya Varios - I y II", imgs: ["Aleluya/Aleluya I y II.jpeg"] }
                
            ],
             "Ofertorio": [
                { titulo: "Recibe - Delfino Madrigal", imgs: ["Ofertorio/Recibe Delfino.jpg"] },
                { titulo: "Nos has dado tu vida - Coral atribuido a J. Sebastian Bach", imgs: ["Ofertorio/Nos has.jpg"] },
                { titulo: "Pan de los trigales - Benjamín Rangel G.", imgs: ["Ofertorio/Pan de los trigales.jpg"] },
                { titulo: "Este pan y vino - Carmelo Erdozain", imgs: ["Ofertorio/Este pan 1.jpg", "Ofertorio/Este pan 2.jpg"] }
            ],
             "Santo": [
                { titulo: "Santo Marco Frisina", imgs: ["Santo/Santo Frisina1.jpg", "Santo/Santo Frisina2.jpg","Santo/Santo Frisina3.jpg"] },
                { titulo: "Santo Garcia Virgen", imgs: ["Santo/Santo Garcia1.jpg", "Santo/Santo Garcia2.jpg"] },
                { titulo: "Santo Juan Jauregui", imgs: ["Santo/Santo Jauregui.jpg"] },
                { titulo: "Santo Mary Frances", imgs: ["Santo/Santo Mary.jpg"] },
                { titulo: "Santo Alfonso Luna", imgs: ["Santo/Santo Luna1.jpg", "Santo/Santo Luna2.jpg"] },
                { titulo: "Santo José Netza Pineda - Modal", imgs: ["Santo/Santo Jose.jpg"] },
                { titulo: "Santo A. Mejía - Melodica", imgs: ["Santo/Santo Mejia Melodica1.jpg","Santo/Santo Mejia Melodica2.jpg"] },
                { titulo: "Santo A. Mejía - Rítmica", imgs: ["Santo/Santo Mejia Ritmica1.jpg"] },
                { titulo: "Santo Palazón", imgs: ["Santo/SantoPalazon.jpg","Santo/SantoPalazon2.jpg","Santo/SantoPalazon3.jpg"] },
                { titulo: "Santo Benigna Carrillo - Buen pastor", imgs: ["Santo/Santo Benigna.jpg"] }
            ],
             "Cordero": [
                { titulo: "Cordero Marco Frisina", imgs: ["Cordero/CorderoFrisina1.jpg", "Cordero/CorderoFrisina2.jpg","Cordero/CorderoFrisina3.jpg"] },
                { titulo: "Cordero Benigna Carrillo - Buen pastor", imgs: ["Cordero/Buen Pastor.jpeg"] },
                { titulo: "Cordero J. A. Espinosa", imgs: ["Cordero/CorderoEspinosa.jpg"] },
                { titulo: "Cordero Julián A. López - Verbo encarnado", imgs: ["Cordero/CorderoJulian.jpg"] },
                { titulo: "Cordero A. Mejía - Melodica", imgs: ["Cordero/CorderoMejiaM1.jpeg","Cordero/CorderoMejiaM2.jpeg"] },
                { titulo: "CorderoA. Mejía - Rítmica", imgs: ["Cordero/CorderoMejiaR.jpg"] },
                { titulo: "Cordero José Netza Pineda - Modal", imgs: ["Cordero/CorderoModal.jpeg"] },
                { titulo: "Cordero Palazón", imgs: ["Cordero/CorderoPalazon.jpg","Cordero/CorderoPalazon2.jpg"] },
                { titulo: "Cordero Mary Frances", imgs: ["Cordero/Mary Frances 1.1.jpeg","Cordero/Mary Frances 1.2.jpeg"] },
                { titulo: "Cordero Mary Frances - Lamb of God", imgs: ["Cordero/Mary Frances 2.jpeg"] },
                { titulo: "Cordero Luis E., msp", imgs: ["Cordero/Paz y Perdón.jpeg"] }
            ],
            "Comunión": [
                { titulo: "Cordero A. Mejía - Rítmica", imgs: ["gloria/gloriaBenigna1.jpg", "gloriabenigna2.jpg"] }
            ],
            "Himnos": [
                { titulo: "Cordero A. Mejía - Rítmica", imgs: ["gloria/gloriaBenigna1.jpg", "gloriabenigna2.jpg"] }
            ]
            ,
            "Cantoral Adoración Nocturna": [
                { titulo: "Cantoral Adoración Nocturna Mexicana", 
                imgs: ["Adoración/cantoral_page-0001.jpg","Adoración/cantoral_page-0002.jpg","Adoración/cantoral_page-0003.jpg","Adoración/cantoral_page-0004.jpg","Adoración/cantoral_page-0005.jpg","Adoración/cantoral_page-0006.jpg","Adoración/cantoral_page-0007.jpg","Adoración/cantoral_page-0008.jpg","Adoración/cantoral_page-0009.jpg","Adoración/cantoral_page-00010.jpg","Adoración/cantoral_page-00011.jpg","Adoración/cantoral_page-00012.jpg","Adoración/cantoral_page-00013.jpg","Adoración/cantoral_page-00014.jpg","Adoración/cantoral_page-00015.jpg","Adoración/cantoral_page-00016.jpg","Adoración/cantoral_page-00017.jpg","Adoración/cantoral_page-00018.jpg","Adoración/cantoral_page-00019.jpg","Adoración/cantoral_page-00020.jpg","Adoración/cantoral_page-00021.jpg","Adoración/cantoral_page-00022.jpg","Adoración/cantoral_page-00023.jpg","Adoración/cantoral_page-00024.jpg","Adoración/cantoral_page-00025.jpg","Adoración/cantoral_page-00026.jpg","Adoración/cantoral_page-00027.jpg","Adoración/cantoral_page-00028.jpg","Adoración/cantoral_page-00029.jpg","Adoración/cantoral_page-00030.jpg","Adoración/cantoral_page-00031.jpg","Adoración/cantoral_page-00032.jpg",] }
            ]
            
            
        },
            "Cuaresma": {
                "Entrada": [
                    { titulo: "Desde lo hondo", imgs: ["EntradaCuaresma/Desde1.jpg","EntradaCuaresma/Desde2.jpg"] }
                ],
                "Honor y Gloria": [
                    { titulo: "Honor y gloria - Arre. Gabriel Frausto Z.", imgs: ["Honor/Honor.jpg"] },
                    { titulo: "Honor y gloria - Adán Hernández L.", imgs: ["Honor/Honor Adan1.jpg", "Honor/Honor Adan1.jpg"] }
                ],
                "Comunión": [
                    { titulo: "Si alguno me quiere seguir", imgs: ["ComunionCuaresma/SI ALGUNO 1.jpg", "ComunionCuaresma/SI ALGUNO 2.jpg"] }
                ]
            },
            "Pascua": {
                "Entrada": [
                    { titulo: "Desde lo hondo", imgs: ["EntradaCuaresma/Desde1.jpg","EntradaCuaresma/Desde2.jpg"] }
                ],
                "Honor y Gloria": [
                    { titulo: "Honor y gloria - Arre. Gabriel Frausto Z.", imgs: ["Honor/Honor.jpg"] },
                    { titulo: "Honor y gloria - Adán Hernández L.", imgs: ["Honor/Honor Adan1.jpg", "Honor/Honor Adan1.jpg"] }
                ],
                "Comunión": [
                    { titulo: "Si alguno me quiere seguir", imgs: ["ComunionCuaresma/SI ALGUNO 1.jpg", "ComunionCuaresma/SI ALGUNO 2.jpg"] }
                ]
            }
        };

let seleccionados=[],imagenes=[],indice=0;

function cargarCategorias(){
    const esquema=esquemaSelect.value;
    if(!esquema) return;

    listaCategorias.innerHTML="<h2>Categorías</h2>";
    listaCantos.style.display="none";

    for(const cat in cantosEsquemas[esquema]){
        const d=document.createElement("div");
        d.className="canto-item";
        d.textContent=cat;
        d.onclick=()=>mostrarCantos(cat,esquema);
        listaCategorias.appendChild(d);
    }
}

function mostrarCantos(cat,esq){
    listaCantos.innerHTML="<h2>Cantos disponibles</h2>";
    listaCantos.style.display="block";

    cantosEsquemas[esq][cat].forEach(c=>{
        const d=document.createElement("div");
        d.className="canto-item";
        d.textContent=c.titulo;
        d.onclick=()=>{ seleccionados.push(c); actualizar(); };
        listaCantos.appendChild(d);
    });
}

function actualizar(){
    esquemaCantos.innerHTML="<h2>Esquema de cantos</h2>";
    if(!seleccionados.length){
        esquemaCantos.innerHTML+="<p>No has seleccionado ningún canto.</p>";
        return;
    }
    seleccionados.forEach(c=>{
        esquemaCantos.innerHTML+=`
        <div>${c.titulo}
            <span class="remove-btn" onclick="quitar('${c.titulo}')">❌</span>
        </div>`;
    });
}

function quitar(t){
    seleccionados=seleccionados.filter(c=>c.titulo!==t);
    actualizar();
}

function generarCancionero(){
    imagenes=[];
    seleccionados.forEach(c=>imagenes.push(...c.imgs));
    if(!imagenes.length){
        alert("No hay imágenes para mostrar");
        return;
    }
    indice=0;
    mostrarImagen();
    overlay.style.display="flex";
}

function mostrarImagen(){
    imagenActual.style.transform="scale(1)";
    scale=1;
    imagenActual.src=imagenes[indice];
}

function cerrarCancionero(){
    overlay.style.display="none";
}

/* SWIPE */
let startX=0;
imagenActual.addEventListener("touchstart",e=>{
    startX=e.touches[0].clientX;
});
imagenActual.addEventListener("touchend",e=>{
    const dx=e.changedTouches[0].clientX-startX;
    if(dx>50){ indice=(indice-1+imagenes.length)%imagenes.length; mostrarImagen(); }
    if(dx<-50){ indice=(indice+1)%imagenes.length; mostrarImagen(); }
});

/* ZOOM */
let scale=1;
imagenActual.addEventListener("wheel",e=>{
    e.preventDefault();
    scale+=e.deltaY*-0.001;
    scale=Math.min(Math.max(1,scale),5);
    imagenActual.style.transform=`scale(${scale})`;
},{passive:false});

window.addEventListener("beforeunload", function (e) {
    if (seleccionados.length > 0) {
        e.preventDefault();
        e.returnValue = "";
    }
});

</script>

</body>
</html>
