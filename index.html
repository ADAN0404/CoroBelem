<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cantos</title>
    <style>
        body { 
            font-family: 'Times New Roman', serif; 
            text-align: center; 
            background: url('fondo.jfif') no-repeat center center fixed; 
            background-size: cover; 
            color: white; 
        }
        ..menu {
    background: rgba(0, 0, 0, 0.5);
    padding: 10px;
    display: flex;
    align-items: center;
    justify-content: center;
    position: fixed; /* Fija la barra arriba */
    top: 0;
    width: 100%;
    z-index: 1000; /* Asegura que esté encima del overlay */
}

.overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.9);
    color: white;
    display: none;
    flex-direction: column;
    align-items: center;
    z-index: 1000;
}


        .menu img {
            height: 200px;
            margin-right: 20px;
        }
        .menu h1 {
            margin: 0;
            color: white;
            text-align: center;
        }
        .container { 
            max-width: 600px; 
            margin: 20px auto; 
            padding: 20px; 
            background: rgba(0, 0, 0, 0.6);
            border-radius: 10px; 
            box-shadow: 0px 0px 20px rgba(255, 255, 255, 0.2); 
        }
        .close-btn, .nav-btn {
            position: absolute;
            top: 20px;
            background: red;
            color: white;
            padding: 10px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 18px;
        }
        .close-btn { right: 20px; }
        .nav-btn { background: #ffcc00; color: black; }
        .prev-btn { left: 20px; }
        .next-btn { right: 70px; }


        .canto-item, .categoria-item { 
            margin: 10px 0; 
            cursor: pointer; 
            padding: 10px; 
            background: #444; 
            border-radius: 5px; 
            transition: 0.3s; 
        }
        .canto-item:hover, .categoria-item:hover { background: #666; }
        .selected-cantos { margin-top: 20px; padding: 10px; background: #333; border-radius: 5px; }
        .remove-btn { margin-left: 10px; color: red; cursor: pointer; }
        .generate-btn { 
            margin-top: 20px; 
            padding: 10px; 
            background: #ffcc00; 
            color: black; 
            border-radius: 5px; 
            cursor: pointer; 
            display: inline-block; 
            transition: 0.3s; 
        }
        .generate-btn:hover { background: #ff9900; }

        /* Estilos para la subcapa del cancionero */
        .overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.9);
            color: white;
            display: none;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            z-index: 1000;
        }
        .overlay img {
            max-width: 100%;
            max-height: 100%;
            margin: 10px;
        }
        .close-btn {
            position: absolute;
            top: 20px;
            right: 20px;
            background: red;
            color: white;
            padding: 10px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 18px;
        }

        @media (max-width: 768px) {
            .container { max-width: 90%; }
            .menu { flex-direction: column; text-align: center; }
            .menu img { margin-bottom: 10px; }
        }
    </style>
</head>
<body>
    <div class="menu">
        <img src="Logo.png" alt="Logo">
    
    
    <h1>Selecciona un esquema</h1></div>
    <div class="container" id="listaCategorias"></div>
    
    <h1>Selecciona tus cantos</h1>
    <div class="container" id="listaCantos" style="display: none;"></div>

    <h2>Esquema de Cantos</h2>
    <div class="container selected-cantos" id="esquemaCantos">
        <p>No has seleccionado ningún canto.</p>
    </div>
    
    <div class="generate-btn" onclick="generarCancionero()">Generar Cancionero</div>

    <!-- Subcapa del cancionero -->
    <div class="overlay" id="overlay">
        <div class="close-btn" onclick="cerrarCancionero()">✖</div>
        <div class="nav-btn prev-btn" onclick="cambiarImagen(-1)">⬅</div>
        <img id="imagenActual" src="">
        <div class="nav-btn next-btn" onclick="cambiarImagen(1)">➡</div>
    </div>

    <script>
        let cantos = {
             "Entrada": [
                { titulo: "Portones - Xavier Gonzalez", imgs: ["Entrada/Portones - Xavier.jpg"] }
            ],
            "Ten Piedad": [
                { titulo: "Señor ten piedad - Xavier Gonzalez", imgs: ["Ten piedad/Señor ten piedad - Xavier 1.jpg", "Señor ten piedad - Xavier 2.jpg"] },
                { titulo: "Gloria Palazo", imgs: ["gloria2-1.jpg", "gloria2-2.jpg", "gloria2-3.jpg"] }
            ],
            "Gloria": [
                { titulo: "Gloria Benigna Carrillo", imgs: ["Gloria/GloriaBenigna1.jpg", "Gloria/GloriaBenigna2.jpg"] },
                { titulo: "Gloria A. Mejía - Melodica", imgs: ["gloria1.jpg", "gloria2.jpg"] },
                { titulo: "Gloria A. Mejía - Rítmica", imgs: ["gloria1.jpg", "gloria2.jpg"] },
                { titulo: "Gloria Palazo", imgs: ["gloria2-1.jpg", "gloria2-2.jpg", "gloria2-3.jpg"] }
            ],
            "Aleluya": [
                { titulo: "Festival Alleluia - James Chepponis", imgs: ["aleluya1.jpg"] }
            ],
             "Ofertorio": [
                { titulo: "Recibe - Delfino Madrigal", imgs: ["gloria/gloriaBenigna1.jpg", "gloriabenigna2.jpg"] }
            ],
             "Santo": [
                { titulo: "Santo - Marco Frisina", imgs: ["gloria/gloriaBenigna1.jpg", "gloriabenigna2.jpg"] }
            ],
             "Cordero": [
                { titulo: "Cordero A. Mejía - Rítmica", imgs: ["gloria/gloriaBenigna1.jpg", "gloriabenigna2.jpg"] }
            ]
            
            
        };
        let esquema = [];
        let imagenesActuales = [];
        let indiceImagen = 0;

        function cargarCategorias() {
            const contenedor = document.getElementById("listaCategorias");
            contenedor.innerHTML = "";
            for (let categoria in cantos) {
                let div = document.createElement("div");
                div.classList.add("categoria-item");
                div.innerText = categoria;
                div.onclick = () => mostrarCantos(categoria);
                contenedor.appendChild(div);
            }
        }

        function mostrarCantos(categoria) {
            const contenedor = document.getElementById("listaCantos");
            contenedor.innerHTML = "";
            contenedor.style.display = "block";
            
            cantos[categoria].forEach(canto => {
                let div = document.createElement("div");
                div.classList.add("canto-item");
                div.innerHTML = `<p>${canto.titulo}</p>`;
                div.onclick = () => agregarCanto(categoria, canto);
                contenedor.appendChild(div);
            });
        }

        function agregarCanto(categoria, canto) {
            esquema = esquema.filter(item => item.categoria !== categoria);
            esquema.push({ categoria, imgs: canto.imgs });
            actualizarEsquema();
        }

        function quitarCanto(categoria) {
            esquema = esquema.filter(canto => canto.categoria !== categoria);
            actualizarEsquema();
        }

        function actualizarEsquema() {
            const contenedor = document.getElementById("esquemaCantos");
            contenedor.innerHTML = "";
            
            if (esquema.length === 0) {
                contenedor.innerHTML = '<p>No has seleccionado ningún canto.</p>';
                return;
            }
            
            esquema.forEach(canto => {
                const div = document.createElement("div");
                div.innerHTML = `<p>${canto.categoria}</p> <span class='remove-btn' onclick="quitarCanto('${canto.categoria}')">❌</span>`;
                contenedor.appendChild(div);
            });
        }

        function generarCancionero() {
            if (esquema.length === 0) {
                alert("No has seleccionado ningún canto.");
                return;
            }
            imagenesActuales = esquema.flatMap(canto => canto.imgs);
            indiceImagen = 0;
            mostrarImagen();
            document.getElementById("overlay").style.display = "flex";
        }

        function mostrarImagen() {
            document.getElementById("imagenActual").src = imagenesActuales[indiceImagen];
        }

        function cambiarImagen(direccion) {
            indiceImagen = (indiceImagen + direccion + imagenesActuales.length) % imagenesActuales.length;
            mostrarImagen();
        }

        function cerrarCancionero() {
            document.getElementById("overlay").style.display = "none";
        }

        cargarCategorias();
    </script>
</body>
</html>
